<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ë¦¬ë·° ê²Œì‹œíŒ</title>
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <style>
        body { background-color: #f8f9fa; }
        .container { margin-top: 50px; }
        .review-card { border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
        .review-img { width: 100%; height: 200px; object-fit: cover; border-radius: 10px 10px 0 0; }
        .review-body { padding: 15px; }
        .review-title { font-size: 1.1rem; font-weight: bold; color: #333; }
    </style>
</head>
<body>

<div class="container">
    <h2 class="text-center mb-4">ë¦¬ë·° ê²Œì‹œíŒ</h2>

    <div class="row" th:if="${#lists.isEmpty(reviews)}">
        <p class="text-center text-muted">ë“±ë¡ëœ ë¦¬ë·°ê°€ ì—†ìŠµë‹ˆë‹¤ ğŸ˜¢</p>
    </div>

    <div class="row row-cols-1 row-cols-md-3 g-4" th:each="review : ${reviews}">
        <div class="col">
            <div class="card review-card">
                <img th:src="${review.imgUrl != null ? review.imgUrl : '/images/no-image.png'}"
                     class="review-img" alt="ë¦¬ë·° ì´ë¯¸ì§€">
                <div class="review-body">
                    <div class="review-title" th:text="${review.title}">ë¦¬ë·° ì œëª©</div>
                    <p>â˜… <span th:text="${review.rate}"></span> / 5</p>
                    <p th:text="${#strings.abbreviate(review.content, 80)}"></p>
                    <a th:href="@{'/reviews/' + ${review.no}}" class="btn btn-outline-primary btn-sm">ìì„¸íˆ ë³´ê¸°</a>
                </div>
            </div>
        </div>
    </div>

    <nav th:if="${page != null}" class="mt-4">
        <ul class="pagination justify-content-center">
            <li class="page-item" th:classappend="${page.pageNo == 1} ? 'disabled'">
                <a class="page-link" th:href="@{'/reviews?offset=' + ${page.pageNo - 1}}">ì´ì „</a>
            </li>
            <li class="page-item"
                th:each="i : ${#numbers.sequence(page.startPage, page.endPage)}"
                th:classappend="${page.pageNo == i} ? 'active'">
                <a class="page-link" th:href="@{'/reviews?offset=' + ${i}}" th:text="${i}"></a>
            </li>
            <li class="page-item" th:classappend="${page.pageNo == page.maxPage} ? 'disabled'">
                <a class="page-link" th:href="@{'/reviews?offset=' + ${page.pageNo + 1}}">ë‹¤ìŒ</a>
            </li>
        </ul>
    </nav>
</div>

</body>
</html>
